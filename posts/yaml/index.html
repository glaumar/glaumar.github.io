<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.83.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>YAML&nbsp;&ndash;&nbsp;Glaumar's Blog</title><link rel=stylesheet href=/css/core.min.78719e8336f9f7af67a9d03a6d2bcd57bbe5df387d3b75b34078aaa427279d260421eebb4123000aba27599bfce6538c.css integrity=sha384-eHGegzb5969nqdA6bSvNV7vl3zh9O3WzQHiqpCcnnSYEIe67QSMACronWZv85lOM><meta name=twitter:card content="summary"><meta name=twitter:title content="YAML"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><span class="site name">Glaumar's Blog</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>Categories</a><a class="nav item" href=/tags/>Tags</a><a class="nav item" href=/about>About</a></nav></div></span></div><div class="site slogan"><span class=title>#! /because/we/can</span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">YAML</h1><p class="article date">Sunday, May 23, 2021</p></section><article class="article markdown-body"><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95>基本语法</a></li><li><a href=#%e5%af%b9%e8%b1%a1>对象</a></li><li><a href=#%e6%95%b0%e7%bb%84>数组</a></li><li><a href=#%e6%b7%b7%e5%90%88%e4%bd%bf%e7%94%a8>混合使用</a></li><li><a href=#%e5%9f%ba%e6%9c%ac%e7%b1%bb%e5%9e%8b>基本类型</a></li><li><a href=#%e5%bc%ba%e5%88%b6%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2>强制类型转换</a></li><li><a href=#%e5%a4%9a%e8%a1%8c%e5%ad%97%e7%ac%a6%e4%b8%b2>多行字符串</a></li><li><a href=#%e5%bc%95%e7%94%a8>引用</a></li></ul><p>YAML是“YAML Ain’t Markup Language”的递归缩写。扩展名可以是<code>.yaml</code>或<code>.yml</code>。<a href=http://nodeca.github.io/js-yaml/ target=_blank rel="noopener noreferrer">YAML在线测试</a></p><h1 id=基本语法>基本语法</h1><ul><li>大小写敏感</li><li>使用缩进表示层级关系</li><li>缩进时不允许使用Tab键，只允许使用空格。</li><li>缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</li><li>注释使用<code>#</code></li></ul><h1 id=对象>对象</h1><p>对象是键值对的集合，”key: value“中冒号右边的空格是必须的</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>animal</span><span class=p>:</span><span class=w> </span><span class=l>pets</span><span class=w>
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>hash</span><span class=p>:</span><span class=w> </span>{<span class=w> </span><span class=nt>name: Steve, foo</span><span class=p>:</span><span class=w> </span><span class=l>bar } </span><span class=w>
</span></code></pre></div><h1 id=数组>数组</h1><p>“- value”中，减号右边的空格是必须的</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml>- <span class=l>Cat</span><span class=w>
</span><span class=w></span>- <span class=l>Dog</span><span class=w>
</span><span class=w></span>- <span class=l>Goldfish</span><span class=w>
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml>-<span class=w>
</span><span class=w> </span>- <span class=l>Cat</span><span class=w>
</span><span class=w> </span>- <span class=l>Dog</span><span class=w>
</span><span class=w> </span>- <span class=l>Goldfish</span><span class=w>
</span><span class=w></span>-<span class=w>
</span><span class=w> </span>- <span class=l>Apple</span><span class=w>
</span><span class=w> </span>- <span class=l>Pear</span><span class=w>
</span><span class=w> </span>- <span class=l>Orange</span><span class=w>
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml>- <span class=p>[</span><span class=w> </span><span class=l>Cat, Dog, Goldfish ]</span><span class=w>
</span><span class=w></span>- <span class=p>[</span><span class=w> </span><span class=l>Apple, Pear, Orange ]</span><span class=w>
</span></code></pre></div><h1 id=混合使用>混合使用</h1><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>animal</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>Cat, Dog, Goldfish ], [ Apple, Pear, Orange ] ]</span><span class=w>
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>companies</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>-<span class=w>
</span><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>company1</span><span class=w>
</span><span class=w>        </span><span class=nt>price</span><span class=p>:</span><span class=w> </span><span class=l>200W</span><span class=w>
</span><span class=w>    </span>-<span class=w>
</span><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w>
</span><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>company2</span><span class=w>
</span><span class=w>        </span><span class=nt>price</span><span class=p>:</span><span class=w> </span><span class=l>500W</span><span class=w>
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>languages</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=l>Ruby</span><span class=w>
</span><span class=w>  </span>- <span class=l>Perl</span><span class=w>
</span><span class=w>  </span>- <span class=l>Python </span><span class=w>
</span><span class=w></span><span class=nt>websites</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>YAML</span><span class=p>:</span><span class=w> </span><span class=l>yaml.org </span><span class=w>
</span><span class=w>  </span><span class=nt>Ruby</span><span class=p>:</span><span class=w> </span><span class=l>ruby-lang.org </span><span class=w>
</span><span class=w>  </span><span class=nt>Python</span><span class=p>:</span><span class=w> </span><span class=l>python.org </span><span class=w>
</span><span class=w>  </span><span class=nt>Perl</span><span class=p>:</span><span class=w> </span><span class=l>use.perl.org</span><span class=w>
</span></code></pre></div><h1 id=基本类型>基本类型</h1><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>boolean</span><span class=p>:</span><span class=w> 
</span><span class=w>    </span>- <span class=kc>TRUE</span><span class=w>   </span><span class=c>#true,True都可以</span><span class=w>
</span><span class=w>    </span>- <span class=kc>FALSE</span><span class=w>  </span><span class=c>#false，False都可以</span><span class=w>
</span><span class=w></span><span class=nt>float</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>canonical</span><span class=p>:</span><span class=w> </span><span class=m>1.23015e+3</span><span class=w>
</span><span class=w>    </span>- <span class=nt>exponential</span><span class=p>:</span><span class=w> </span><span class=m>12.3015e+02</span><span class=w>
</span><span class=w>    </span>- <span class=nt>fixed</span><span class=p>:</span><span class=w> </span><span class=m>1230.15</span><span class=w>
</span><span class=w>    </span>- <span class=nt>negative infinity</span><span class=p>:</span><span class=w> </span>-<span class=l>.inf</span><span class=w>
</span><span class=w>    </span>- <span class=nt>not a number</span><span class=p>:</span><span class=w> </span><span class=l>.NaN</span><span class=w>
</span><span class=w></span><span class=nt>int</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=nt>canonical</span><span class=p>:</span><span class=w> </span><span class=m>12345</span><span class=w>
</span><span class=w>    </span>- <span class=nt>decimal</span><span class=p>:</span><span class=w> </span><span class=l>+12345</span><span class=w>
</span><span class=w>    </span>- <span class=nt>octal</span><span class=p>:</span><span class=w> </span><span class=m>0o14</span><span class=w>
</span><span class=w>    </span>- <span class=nt>hexadecimal</span><span class=p>:</span><span class=w> </span><span class=l>0xC</span><span class=w>
</span><span class=w></span><span class=nt>null</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>nullvalue</span><span class=p>:</span><span class=w> </span><span class=l>~ </span><span class=w> </span><span class=c>#使用~表示null</span><span class=w>
</span><span class=w></span><span class=nt>string</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=l>Hello world   </span><span class=w> </span><span class=c>#字符串可以不使用引号</span><span class=w>
</span><span class=w>    </span>- <span class=s2>&#34;Hello world\n&#34;</span><span class=w> </span><span class=c>#含有特殊字符用双引号</span><span class=w>
</span><span class=w>    </span>- <span class=s1>&#39;Hello world\n&#39;</span><span class=w>  </span><span class=c>#单引号会自动转义特殊字符，等价于其他语言中的&#34;Hello world\\n&#34;</span><span class=w>
</span><span class=w>    </span>- <span class=s1>&#39;labor&#39;&#39;s day&#39;</span><span class=w>   </span><span class=c>#使用单引号对单本身引号转义，等价于其他语言中的&#39;labor\&#39;s day&#39;</span><span class=w>
</span><span class=w>    </span>- <span class=s2>&#34;Sosa did fine.\u263A&#34;</span><span class=w>  </span><span class=c>#使用Unicode</span><span class=w>
</span><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- <span class=ld>2018-02-17</span><span class=w>    </span><span class=c>#日期必须使用ISO 8601格式，即yyyy-MM-dd</span><span class=w>
</span><span class=w></span><span class=nt>datetime</span><span class=p>:</span><span class=w> 
</span><span class=w>    </span>- <span class=ld>2018-02-17T15:02:31</span><span class=m>+08</span><span class=p>:</span><span class=m>00</span><span class=w>    </span><span class=c>#时间使用ISO 8601格式，时间和日期之间使用T连接，最后使用+代表时区</span><span class=w>
</span></code></pre></div><h1 id=强制类型转换>强制类型转换</h1><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>e</span><span class=p>:</span><span class=w> </span><span class=cp>!!str</span><span class=w> </span><span class=m>123</span><span class=w>
</span><span class=w></span><span class=nt>f</span><span class=p>:</span><span class=w> </span><span class=cp>!!str</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></code></pre></div><h1 id=多行字符串>多行字符串</h1><p>多行字符串第二行开始需要空格缩进，最终显示每行内容会使用空格隔开</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>str</span><span class=p>:</span><span class=w> 
</span><span class=w>  </span><span class=l>这是一段</span><span class=w>
</span><span class=w>  </span><span class=l>多行</span><span class=w>
</span><span class=w>  </span><span class=l>字符串</span><span class=w>
</span></code></pre></div><p>等价于</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>str</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;这是一段 多行 字符串&#39;</span><span class=w>
</span></code></pre></div><p><code>|</code>保留换行符，<code>></code>折叠换行</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>this</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span><span class=sd>  one
</span><span class=sd>  two
</span><span class=sd>  three</span><span class=w>  
</span><span class=w></span><span class=nt>that</span><span class=p>:</span><span class=w> </span><span class=p>&gt;</span><span class=sd>
</span><span class=sd>  one
</span><span class=sd>  two
</span><span class=sd>  three</span><span class=w>  
</span></code></pre></div><p>等价于</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>this</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;one\ntwo\nthree\n&#34;</span><span class=w>
</span><span class=w></span><span class=nt>thate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;one two three\n&#34;</span><span class=w>
</span></code></pre></div><p><code>+</code>表示保留文字块末尾的换行，<code>-</code>表示删除字符串末尾的换行。</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>s1</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span><span class=sd>  </span><span class=w>  </span><span class=l>Foo</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>s2</span><span class=p>:</span><span class=w> </span><span class=p>|+</span><span class=sd>
</span><span class=sd>  </span><span class=w>  </span><span class=l>Foo</span><span class=w>
</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>s3</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span><span class=sd>  </span><span class=w>  </span><span class=l>Foo</span><span class=w>
</span><span class=w>
</span></code></pre></div><p>等价于</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>s1</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Foo\n&#34;</span><span class=w>
</span><span class=w></span><span class=nt>s2</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Foo\n\n\n&#34;</span><span class=w>
</span><span class=w></span><span class=nt>s3</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Foo&#34;</span><span class=w>
</span></code></pre></div><h1 id=引用>引用</h1><p><code>&</code>用来建立锚点，<code>&lt;&lt;</code>表示合并到当前数据，<code>*</code>用来引用锚点</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>defaults</span><span class=p>:</span><span class=w> </span><span class=cp>&amp;defaults</span><span class=w>
</span><span class=w>  </span><span class=nt>adapter</span><span class=p>:</span><span class=w>  </span><span class=l>postgres</span><span class=w>
</span><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w>     </span><span class=l>localhost</span><span class=w>
</span><span class=w>  
</span><span class=w></span><span class=nt>copy_defaults</span><span class=p>:</span><span class=w> </span><span class=cp>*defaults</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>development</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class=l>myapp_development</span><span class=w>
</span><span class=w>  </span><span class=nt>&lt;&lt;</span><span class=p>:</span><span class=w> </span><span class=cp>*defaults</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w>
</span><span class=w> </span>- <span class=cp>&amp;showell</span><span class=w> </span><span class=l>Steve </span><span class=w>
</span><span class=w> </span>- <span class=l>Clark </span><span class=w>
</span><span class=w> </span>- <span class=l>Brian </span><span class=w>
</span><span class=w> </span>- <span class=l>Oren </span><span class=w>
</span><span class=w> </span>- <span class=cp>*showell</span><span class=w> 
</span></code></pre></div><p>等价于</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>defaults</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>adapter</span><span class=p>:</span><span class=w>  </span><span class=l>postgres</span><span class=w>
</span><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w>     </span><span class=l>localhost</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>copy_defaults</span><span class=p>:</span><span class=w> </span>{<span class=nt>adapter:  postgres, host</span><span class=p>:</span><span class=w> </span><span class=l>localhost}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>development</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class=l>myapp_development</span><span class=w>
</span><span class=w>  </span><span class=nt>adapter</span><span class=p>:</span><span class=w>  </span><span class=l>postgres</span><span class=w>
</span><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w>     </span><span class=l>localhost</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w>
</span><span class=w> </span>- <span class=l>Steve </span><span class=w>
</span><span class=w> </span>- <span class=l>Clark </span><span class=w>
</span><span class=w> </span>- <span class=l>Brian </span><span class=w>
</span><span class=w> </span>- <span class=l>Oren </span><span class=w>
</span><span class=w> </span>- <span class=l>Steve </span><span class=w>
</span></code></pre></div><hr><p>参考：</p><ul><li><a href=http://www.ruanyifeng.com/blog/2016/07/yaml.html target=_blank rel="noopener noreferrer">阮一峰的网络日志-YAML语言教程</a></li><li><a href=https://www.runoob.com/w3cnote/yaml-intro.html target=_blank rel="noopener noreferrer">菜鸟教程-YAML入门教程</a></li><li><a href=https://yaml.org/spec/1.2/spec.html#id2759963 target=_blank rel="noopener noreferrer">YAML Ain’t Markup Language (YAML™) Version 1.2</a></li></ul></article><section class="article labels"><a class=category href=/categories/memo/>memo</a><a class=tag href=/tags/yaml/>yaml</a></section><section class="article author"><div class=details><a class=item href=https://github.com/glaumar target=_blank rel="noopener noreferrer"><span class="iconfont icon-github"></span>&nbsp;glaumar</a></div></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/posts/toml/><span class="iconfont icon-article"></span>TOML</a></p><p><a class=link href=/posts/git/><span class="iconfont icon-article"></span>Git</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>©2021 glaumar.</p><p class=powerby><span>Powered&nbsp;by&nbsp;</span><a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a><span>&nbsp;&&nbsp;</span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank rel="noopener noreferrer">Notepadium</a></p></div></section></body></html>